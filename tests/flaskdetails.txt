from flask import Flask, render_template, request, redirect, url_for
app = Flask(__name__)

products = [
    {"id": 1, "name": "Apple", "price": 1.2},
    {"id": 2, "name": "Banana", "price": 0.8},
]

@app.route("/product/<int:pid>")
def product_details(pid):
    p = next((x for x in products if x["id"] == pid), None)
    return render_template("product_details.html", product=p)

# Delete route (feature requested)
@app.route("/delete/<int:pid>", methods=["POST"])
def delete_product(pid):
    global products
    products = [x for x in products if x["id"] != pid]
    return redirect(url_for("index"))

@app.route("/")
def index():
    return render_template("display_products.html", products=products)

if __name__ == "__main__":
    app.run(debug=True)
